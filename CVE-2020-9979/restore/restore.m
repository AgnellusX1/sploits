//
//  EvilMenu.m
//  MenuBundle
//
//  Created by codecolorist on 2018/12/10.
//  Copyright Â© 2018 AntFinancial. All rights reserved.
//

#import "restore.h"
#import "../utils/DictAssets.h"
#import "../utils/config.gen.h"

// todo: apple script: (path to me as text)

int main(int argc, char* argv[]) {
    FakeAsset *asset = [DictAssets find];
    asset.source = @ORIGINAL_DICTIONARY_URL;
    NSDictionary *malformed = @{
                                @"_DownloadSize": @ORIGINAL_DOWNLOAD_SIZE,
                                @"_UnarchivedSize": @ORIGINAL_UNARCHIVED_SIZE,
                                @"_Measurement": [NSData dataWithBytes:ORIGINAL_SHA1_DIGEST_BYTES length:20]
                                };
    [asset update:malformed];
    [asset downloadBlocking];

    return 0;
}